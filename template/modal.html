<div>
  <div>
    <button type="button" class="btn btn-default btn-lg" ng-model="ruleCollapse" btn-checkbox btn-checkbox-true="1" btn-checkbox-false="0">
      Rule
    </button>
    <div collapse="!ruleCollapse">
      <h3>Rule</h3>
      <table class="header">
        <tr>
          <th ng-repeat="item in defaultRule"> {{item.key}} </th>
        </tr>
        <tr>
          <td ng-repeat="item in defaultRule">
          <input ng-if="item.style == 'string'" ng-model="rule[item.key]" id="key" class="form-control"/>
          <input ng-if="item.style == 'number'" ng-model="rule[item.key]" id="key" type="number" class="form-control number" />
          <p ng-if="item.style == 'boolean'">
            {{current.header[item.key]}}
          </p></td>
        </tr>
      </table>
    </div>
    <h3>Header</h3>
    <table class="header">
      <tr>
        <th ng-repeat="item in defaultHeader"> {{item.key}} </th>
      </tr>
      <tr>
        <td ng-repeat="item in defaultHeader">
        <input ng-if="item.style == 'string'" ng-model="current.header[item.key]" id="key" class="form-control"/>
        <input ng-if="item.style == 'number'" ng-model="current.header[item.key]" id="key" type="number" class="form-control number" />
        <input ng-if="item.style == 'boolean'" ng-model="current.header[item.key]" id="key" type="checkbox" class="form-control" />
        </p></td>
      </tr>
    </table>
    <h3>Players</h3>
    <table class="players">
      <tr>
        <td>
        <button class="btn btn-link" ng-click="addPlayer(0)">
          Add
        </button></td>
        <td></td>
        <th>index</th>
        <th ng-repeat="item in items | with: 'value'" ng-if="item.hasOwnProperty('style')">{{item.key}}</th>
      </tr>
      <tr ng-repeat="player in current.players">
        <td>
        <button class="btn btn-link" ng-click="addPlayer($index+1)">
          Add
        </button></td>
        <td>
        <button class="btn btn-link" ng-click="removePlayer($index)">
          Del
        </button></td>
        <td class="number">{{$index+1}}</td>
        <td ng-repeat="item in items| with: 'value'" ng-if="item.hasOwnProperty('style')">
        <input ng-if="item.style == 'string'" ng-model="player[item.key]" id="{{item.key}}" class="form-control" />
        <input ng-if="item.style == 'boolean'" ng-model="player[item.key]" id="{{item.key}}" class="form-control" type="checkbox" />
        <input ng-if="item.style == 'number'" ng-model="player[item.key]" id="{{item.key}}" type="number" class="form-control number" />
        <input ng-if="item.style == 'typeahead'" ng-model="player[item.key]" id="{{item.key}}" type="text" typeahead="pref for pref in item.option | filter:$viewValue | limitTo:8" class="form-control" />
        <select ng-if="item.style == 'select'" ng-model="player[item.key]" id="{{item.key}}" ng-options="status for status in item.option" type="text" class="form-control" ></select></td>
      </tr>
    </table>

  </div>
</div>